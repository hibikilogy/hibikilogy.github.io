{% import 'components/nav-screen.html' as navScreen %}
{% macro main() %}
<header class="NavBar" v-scope :class="NavScreenClasses">
  <div class="wrapper">
    <div class="container">
      <button type="button" class="NavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false"
        aria-controls="NavScreen" :class="NavScreenClasses" @click="store.toggleNavScreen">
        <span class="container">
          <span class="top"></span>
          <span class="middle"></span>
          <span class="bottom"></span>
        </span>
      </button>
      {{ navScreen::main() }}
      <div class="title">
        <div class="NavBarTitle">
          <a class="title" href="/">
            <img class="Image logo" src="/logo.svg" alt>
            <span>京吹学报</span>
          </a>
        </div>
      </div>
      <div class="content">
        <div class="content-body">
          <nav aria-labelledby="main-nav-aria-label" role="navigation" aria-label="section navigation"
            class="NavBarMenu menu">
            <span id="main-nav-aria-label" class="visually-hidden">
              Main Navigation
            </span>
            {% for item in config.extra.navbar %}
            {% if lang == item.code %}
            {% for nav in item.list %}
            {% if nav.link %}
            <a class="Link link NavBarMenuLink" aria-expanded="false" aria-label="menu" role="button"
              href="{{ nav.link | replace(from='$BASE_URL', to=config.base_url) }}" tabindex="0">
              <span>{{ nav.text }}</span>
            </a>
            {% else %}
            <div class="NavBarMenuGroup">
              <button type="button" class="button" aria-haspopup="true" aria-expanded="false">
                <span class="text">
                  <span>{{ nav.text }}</span>
                  <span class="i-chevron-down text-icon"></span>
                </span>
              </button>
              <div class="menu">
                <div class="Menu">
                  <div class="items">
                    {% for _nav in nav.items %}
                    <div class="MenuLink">
                      <a class="Link" href="{{ _nav.link | replace(from='$BASE_URL', to=config.base_url) }}"
                        target="_blank" rel="noreferrer">
                        {{ _nav.text }}
                      </a>
                    </div>
                    {% endfor %}
                  </div>
                </div>
              </div>
            </div>
            {% endif %}
            {% endfor %}
            {% endif %}
            {% endfor %}
            {% for item in config.extra.social_link %}
            {% if lang == item.code %}
          </nav>
          <a class="Link link NavBarMenuLink NavBarSocialLink no-hide" aria-expanded="false" aria-label="menu"
            role="button" href="{{ item.link | replace(from='$BASE_URL', to=config.base_url) }}" tabindex="0">
            <span>{{ item.text }}</span>
            {% endif %}
            {% endfor %}
          </a>
          <div class="NavBarSearch search no-hide">
            <div id="docsearch">
              <button type="button" class="DocSearch DocSearch-Button" aria-label="Search"
                @click="window.location.href ='/search'">
                <div class="DocSearch-Button-Tips">
                  <span class="DocSearch-Button-Placeholder">Search</span>
                  <span class="DocSearch-Button-Keys">
                    <kbd class="DocSearch-Button-Key"></kbd>
                    <kbd class="DocSearch-Button-Key">K</kbd>
                  </span>
                </div>
                <span class="DocSearch-Button-Container">
                  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none"
                    version="1.1" width="14.299999237060547" height="14.69999885559082"
                    viewBox="0 0 14.299999237060547 14.69999885559082">
                    <g>
                      <path
                        d="M12.5,10.2C13.7,9,14.3,7.6,14.3,6C14.3,4.4,13.7,2.9,12.5,1.8C11.4,0.6,9.9,0,8.3,0C6.6,0,5.2,0.6,4,1.8C2.8,3,2.3,4.3,2.3,6C2.3,7.4,2.7,8.7,3.6,9.7L0.3,13C-0.0999999,13.4,-0.0999999,14,0.3,14.4C0.7,14.8,1.3,14.8,1.7,14.4L5,11.1C5.9,11.7,7,12,8.2,12C9.9,12,11.4,11.4,12.5,10.2ZM5.8,9.2C6.5,9.7,7.3,10,8.3,10C10.5,10,12.3,8.2,12.3,6C12.3,3.8,10.5,2,8.3,2C6.1,2,4.3,3.8,4.3,6C4.3,7.1,4.7,8.1,5.5,8.8C5.6,9,5.7,9.1,5.8,9.2Z"
                        fill-rule="evenodd" fill="#000000" fill-opacity="1" />
                    </g>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="divider">
      <div class="divider-line"></div>
    </div>
  </div>
</header>
{% endmacro main %}
